{
  "id": "64869ad3-8c40-46de-a026-35a9f2a56727",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_logs_tenant_idx": {
          "name": "audit_logs_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_user_idx": {
          "name": "audit_logs_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_action_idx": {
          "name": "audit_logs_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_resource_idx": {
          "name": "audit_logs_resource_idx",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_created_at_idx": {
          "name": "audit_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_tenant_id_tenants_id_fk": {
          "name": "audit_logs_tenant_id_tenants_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_audit_logs": {
      "name": "auth_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "auth_audit_logs_user_id_idx": {
          "name": "auth_audit_logs_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_audit_logs_email_idx": {
          "name": "auth_audit_logs_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_audit_logs_action_idx": {
          "name": "auth_audit_logs_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_audit_logs_result_idx": {
          "name": "auth_audit_logs_result_idx",
          "columns": [
            {
              "expression": "result",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_audit_logs_created_at_idx": {
          "name": "auth_audit_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_audit_logs_ip_address_idx": {
          "name": "auth_audit_logs_ip_address_idx",
          "columns": [
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auth_audit_logs_user_id_users_id_fk": {
          "name": "auth_audit_logs_user_id_users_id_fk",
          "tableFrom": "auth_audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_verification_tokens": {
      "name": "email_verification_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "email_verification_tokens_user_id_idx": {
          "name": "email_verification_tokens_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_verification_tokens_token_idx": {
          "name": "email_verification_tokens_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_verification_tokens_expires_at_idx": {
          "name": "email_verification_tokens_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_verification_tokens_user_id_users_id_fk": {
          "name": "email_verification_tokens_user_id_users_id_fk",
          "tableFrom": "email_verification_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_verification_tokens_token_unique": {
          "name": "email_verification_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_history": {
      "name": "password_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "password_history_user_id_idx": {
          "name": "password_history_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "password_history_created_at_idx": {
          "name": "password_history_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "password_history_user_id_users_id_fk": {
          "name": "password_history_user_id_users_id_fk",
          "tableFrom": "password_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "password_reset_tokens_user_id_idx": {
          "name": "password_reset_tokens_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "password_reset_tokens_token_idx": {
          "name": "password_reset_tokens_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "password_reset_tokens_expires_at_idx": {
          "name": "password_reset_tokens_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "password_reset_tokens_user_id_users_id_fk": {
          "name": "password_reset_tokens_user_id_users_id_fk",
          "tableFrom": "password_reset_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "password_reset_tokens_token_unique": {
          "name": "password_reset_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_token_hash_idx": {
          "name": "sessions_token_hash_idx",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_expires_at_idx": {
          "name": "sessions_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_created_at_idx": {
          "name": "sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_settings_key_unique": {
          "name": "system_settings_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "theme_color": {
          "name": "theme_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenants_domain_idx": {
          "name": "tenants_domain_idx",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenants_active_idx": {
          "name": "tenants_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_domain_unique": {
          "name": "tenants_domain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "mfa_enabled": {
          "name": "mfa_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mfa_secret": {
          "name": "mfa_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_backup_codes": {
          "name": "mfa_backup_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "mfa_setup_completed": {
          "name": "mfa_setup_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "account_locked": {
          "name": "account_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_failed_login": {
          "name": "last_failed_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_tenant_idx": {
          "name": "users_email_tenant_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_tenant_idx": {
          "name": "users_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_role_idx": {
          "name": "users_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_active_idx": {
          "name": "users_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.firewall_alerts": {
      "name": "firewall_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_alerts_tenant": {
          "name": "idx_alerts_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_device": {
          "name": "idx_alerts_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_severity": {
          "name": "idx_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_acknowledged": {
          "name": "idx_alerts_acknowledged",
          "columns": [
            {
              "expression": "acknowledged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_alert_type": {
          "name": "idx_alerts_alert_type",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_source": {
          "name": "idx_alerts_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_created_at": {
          "name": "idx_alerts_created_at",
          "columns": [
            {
              "expression": "\"created_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_alerts_tenant_id_tenants_id_fk": {
          "name": "firewall_alerts_tenant_id_tenants_id_fk",
          "tableFrom": "firewall_alerts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "firewall_alerts_device_id_firewall_devices_id_fk": {
          "name": "firewall_alerts_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_alerts",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "firewall_alerts_acknowledged_by_users_id_fk": {
          "name": "firewall_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "firewall_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_severity_valid": {
          "name": "check_severity_valid",
          "value": "\"firewall_alerts\".\"severity\" IN ('critical', 'high', 'medium', 'low', 'info')"
        },
        "check_source_valid": {
          "name": "check_source_valid",
          "value": "\"firewall_alerts\".\"source\" IN ('api', 'email')"
        },
        "check_acknowledged_consistency": {
          "name": "check_acknowledged_consistency",
          "value": "(\"firewall_alerts\".\"acknowledged\" = false AND \"firewall_alerts\".\"acknowledged_by\" IS NULL AND \"firewall_alerts\".\"acknowledged_at\" IS NULL) OR (\"firewall_alerts\".\"acknowledged\" = true AND \"firewall_alerts\".\"acknowledged_by\" IS NOT NULL AND \"firewall_alerts\".\"acknowledged_at\" IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.firewall_config_risks": {
      "name": "firewall_config_risks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "risk_category": {
          "name": "risk_category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_type": {
          "name": "risk_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "remediation": {
          "name": "remediation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_config_risks_device": {
          "name": "idx_config_risks_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_risks_severity": {
          "name": "idx_config_risks_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_risks_category": {
          "name": "idx_config_risks_category",
          "columns": [
            {
              "expression": "risk_category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_risks_type": {
          "name": "idx_config_risks_type",
          "columns": [
            {
              "expression": "risk_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_risks_detected_at": {
          "name": "idx_config_risks_detected_at",
          "columns": [
            {
              "expression": "\"detected_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_risks_snapshot": {
          "name": "idx_config_risks_snapshot",
          "columns": [
            {
              "expression": "snapshot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_config_risks_device_id_firewall_devices_id_fk": {
          "name": "firewall_config_risks_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_config_risks",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_severity_valid": {
          "name": "check_severity_valid",
          "value": "\"firewall_config_risks\".\"severity\" IN ('critical', 'high', 'medium', 'low')"
        },
        "check_risk_category_valid": {
          "name": "check_risk_category_valid",
          "value": "\"firewall_config_risks\".\"risk_category\" IN ('network_misconfiguration', 'exposure_risk', 'security_feature_disabled', 'license_expired', 'best_practice_violation')"
        }
      },
      "isRLSEnabled": false
    },
    "public.firewall_devices": {
      "name": "firewall_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "firmware_version": {
          "name": "firmware_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "serial_number": {
          "name": "serial_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "management_ip": {
          "name": "management_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "api_username": {
          "name": "api_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "api_password_encrypted": {
          "name": "api_password_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_seconds": {
          "name": "uptime_seconds",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_firewall_devices_tenant": {
          "name": "idx_firewall_devices_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_firewall_devices_status": {
          "name": "idx_firewall_devices_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_firewall_devices_serial": {
          "name": "idx_firewall_devices_serial",
          "columns": [
            {
              "expression": "serial_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_firewall_devices_last_seen": {
          "name": "idx_firewall_devices_last_seen",
          "columns": [
            {
              "expression": "last_seen_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_devices_tenant_id_tenants_id_fk": {
          "name": "firewall_devices_tenant_id_tenants_id_fk",
          "tableFrom": "firewall_devices",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "firewall_devices_serial_number_unique": {
          "name": "firewall_devices_serial_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "serial_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.firewall_health_snapshots": {
      "name": "firewall_health_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cpu_percent": {
          "name": "cpu_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "ram_percent": {
          "name": "ram_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "uptime_seconds": {
          "name": "uptime_seconds",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "wan_status": {
          "name": "wan_status",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "vpn_status": {
          "name": "vpn_status",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "interface_status": {
          "name": "interface_status",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "wifi_status": {
          "name": "wifi_status",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "ha_status": {
          "name": "ha_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_health_snapshots_device": {
          "name": "idx_health_snapshots_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_snapshots_timestamp": {
          "name": "idx_health_snapshots_timestamp",
          "columns": [
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_health_snapshots_device_id_firewall_devices_id_fk": {
          "name": "firewall_health_snapshots_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_health_snapshots",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_wan_status": {
          "name": "check_wan_status",
          "value": "\"firewall_health_snapshots\".\"wan_status\" IN ('up', 'down')"
        },
        "check_vpn_status": {
          "name": "check_vpn_status",
          "value": "\"firewall_health_snapshots\".\"vpn_status\" IN ('up', 'down')"
        },
        "check_wifi_status": {
          "name": "check_wifi_status",
          "value": "\"firewall_health_snapshots\".\"wifi_status\" IS NULL OR \"firewall_health_snapshots\".\"wifi_status\" IN ('on', 'off')"
        },
        "check_ha_status": {
          "name": "check_ha_status",
          "value": "\"firewall_health_snapshots\".\"ha_status\" IS NULL OR \"firewall_health_snapshots\".\"ha_status\" IN ('active', 'standby', 'failover', 'standalone')"
        },
        "check_cpu_percent_range": {
          "name": "check_cpu_percent_range",
          "value": "\"firewall_health_snapshots\".\"cpu_percent\" >= 0 AND \"firewall_health_snapshots\".\"cpu_percent\" <= 100"
        },
        "check_ram_percent_range": {
          "name": "check_ram_percent_range",
          "value": "\"firewall_health_snapshots\".\"ram_percent\" >= 0 AND \"firewall_health_snapshots\".\"ram_percent\" <= 100"
        },
        "check_uptime_positive": {
          "name": "check_uptime_positive",
          "value": "\"firewall_health_snapshots\".\"uptime_seconds\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.firewall_licenses": {
      "name": "firewall_licenses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ips_expiry": {
          "name": "ips_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gav_expiry": {
          "name": "gav_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "atp_expiry": {
          "name": "atp_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "app_control_expiry": {
          "name": "app_control_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "content_filter_expiry": {
          "name": "content_filter_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "support_expiry": {
          "name": "support_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "license_warnings": {
          "name": "license_warnings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_licenses_device": {
          "name": "idx_licenses_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_timestamp": {
          "name": "idx_licenses_timestamp",
          "columns": [
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_ips_expiry": {
          "name": "idx_licenses_ips_expiry",
          "columns": [
            {
              "expression": "ips_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_gav_expiry": {
          "name": "idx_licenses_gav_expiry",
          "columns": [
            {
              "expression": "gav_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_atp_expiry": {
          "name": "idx_licenses_atp_expiry",
          "columns": [
            {
              "expression": "atp_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_app_control_expiry": {
          "name": "idx_licenses_app_control_expiry",
          "columns": [
            {
              "expression": "app_control_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_content_filter_expiry": {
          "name": "idx_licenses_content_filter_expiry",
          "columns": [
            {
              "expression": "content_filter_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_licenses_support_expiry": {
          "name": "idx_licenses_support_expiry",
          "columns": [
            {
              "expression": "support_expiry",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_licenses_device_id_firewall_devices_id_fk": {
          "name": "firewall_licenses_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_licenses",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.firewall_metrics_rollup": {
      "name": "firewall_metrics_rollup",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "threats_blocked": {
          "name": "threats_blocked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "malware_blocked": {
          "name": "malware_blocked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ips_blocked": {
          "name": "ips_blocked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "blocked_connections": {
          "name": "blocked_connections",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "web_filter_hits": {
          "name": "web_filter_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bandwidth_total_mb": {
          "name": "bandwidth_total_mb",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "active_sessions_count": {
          "name": "active_sessions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_metrics_rollup_device": {
          "name": "idx_metrics_rollup_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"date\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_metrics_rollup_date": {
          "name": "idx_metrics_rollup_date",
          "columns": [
            {
              "expression": "\"date\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_metrics_rollup_created_at": {
          "name": "idx_metrics_rollup_created_at",
          "columns": [
            {
              "expression": "\"created_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_metrics_rollup_device_id_firewall_devices_id_fk": {
          "name": "firewall_metrics_rollup_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_metrics_rollup",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "firewall_metrics_rollup_device_date_unique": {
          "name": "firewall_metrics_rollup_device_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "check_threats_blocked_non_negative": {
          "name": "check_threats_blocked_non_negative",
          "value": "\"firewall_metrics_rollup\".\"threats_blocked\" >= 0"
        },
        "check_malware_blocked_non_negative": {
          "name": "check_malware_blocked_non_negative",
          "value": "\"firewall_metrics_rollup\".\"malware_blocked\" >= 0"
        },
        "check_ips_blocked_non_negative": {
          "name": "check_ips_blocked_non_negative",
          "value": "\"firewall_metrics_rollup\".\"ips_blocked\" >= 0"
        },
        "check_blocked_connections_non_negative": {
          "name": "check_blocked_connections_non_negative",
          "value": "\"firewall_metrics_rollup\".\"blocked_connections\" >= 0"
        },
        "check_web_filter_hits_non_negative": {
          "name": "check_web_filter_hits_non_negative",
          "value": "\"firewall_metrics_rollup\".\"web_filter_hits\" >= 0"
        },
        "check_bandwidth_total_mb_non_negative": {
          "name": "check_bandwidth_total_mb_non_negative",
          "value": "\"firewall_metrics_rollup\".\"bandwidth_total_mb\" >= 0"
        },
        "check_active_sessions_count_non_negative": {
          "name": "check_active_sessions_count_non_negative",
          "value": "\"firewall_metrics_rollup\".\"active_sessions_count\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.firewall_security_posture": {
      "name": "firewall_security_posture",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ips_enabled": {
          "name": "ips_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "ips_license_status": {
          "name": "ips_license_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "ips_daily_blocks": {
          "name": "ips_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "gav_enabled": {
          "name": "gav_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "gav_license_status": {
          "name": "gav_license_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "gav_daily_blocks": {
          "name": "gav_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "dpi_ssl_enabled": {
          "name": "dpi_ssl_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "dpi_ssl_certificate_status": {
          "name": "dpi_ssl_certificate_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "dpi_ssl_daily_blocks": {
          "name": "dpi_ssl_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "atp_enabled": {
          "name": "atp_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "atp_license_status": {
          "name": "atp_license_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "atp_daily_verdicts": {
          "name": "atp_daily_verdicts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "botnet_filter_enabled": {
          "name": "botnet_filter_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "botnet_daily_blocks": {
          "name": "botnet_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "app_control_enabled": {
          "name": "app_control_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "app_control_license_status": {
          "name": "app_control_license_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "app_control_daily_blocks": {
          "name": "app_control_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "content_filter_enabled": {
          "name": "content_filter_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "content_filter_license_status": {
          "name": "content_filter_license_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "content_filter_daily_blocks": {
          "name": "content_filter_daily_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_security_posture_device": {
          "name": "idx_security_posture_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_security_posture_timestamp": {
          "name": "idx_security_posture_timestamp",
          "columns": [
            {
              "expression": "\"timestamp\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "firewall_security_posture_device_id_firewall_devices_id_fk": {
          "name": "firewall_security_posture_device_id_firewall_devices_id_fk",
          "tableFrom": "firewall_security_posture",
          "tableTo": "firewall_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_ips_license_status": {
          "name": "check_ips_license_status",
          "value": "\"firewall_security_posture\".\"ips_license_status\" IS NULL OR \"firewall_security_posture\".\"ips_license_status\" IN ('active', 'expiring', 'expired')"
        },
        "check_gav_license_status": {
          "name": "check_gav_license_status",
          "value": "\"firewall_security_posture\".\"gav_license_status\" IS NULL OR \"firewall_security_posture\".\"gav_license_status\" IN ('active', 'expiring', 'expired')"
        },
        "check_atp_license_status": {
          "name": "check_atp_license_status",
          "value": "\"firewall_security_posture\".\"atp_license_status\" IS NULL OR \"firewall_security_posture\".\"atp_license_status\" IN ('active', 'expiring', 'expired')"
        },
        "check_app_control_license_status": {
          "name": "check_app_control_license_status",
          "value": "\"firewall_security_posture\".\"app_control_license_status\" IS NULL OR \"firewall_security_posture\".\"app_control_license_status\" IN ('active', 'expiring', 'expired')"
        },
        "check_content_filter_license_status": {
          "name": "check_content_filter_license_status",
          "value": "\"firewall_security_posture\".\"content_filter_license_status\" IS NULL OR \"firewall_security_posture\".\"content_filter_license_status\" IN ('active', 'expiring', 'expired')"
        },
        "check_dpi_ssl_certificate_status": {
          "name": "check_dpi_ssl_certificate_status",
          "value": "\"firewall_security_posture\".\"dpi_ssl_certificate_status\" IS NULL OR \"firewall_security_posture\".\"dpi_ssl_certificate_status\" IN ('valid', 'expiring', 'expired')"
        },
        "check_ips_daily_blocks_positive": {
          "name": "check_ips_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"ips_daily_blocks\" >= 0"
        },
        "check_gav_daily_blocks_positive": {
          "name": "check_gav_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"gav_daily_blocks\" >= 0"
        },
        "check_dpi_ssl_daily_blocks_positive": {
          "name": "check_dpi_ssl_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"dpi_ssl_daily_blocks\" >= 0"
        },
        "check_atp_daily_verdicts_positive": {
          "name": "check_atp_daily_verdicts_positive",
          "value": "\"firewall_security_posture\".\"atp_daily_verdicts\" >= 0"
        },
        "check_botnet_daily_blocks_positive": {
          "name": "check_botnet_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"botnet_daily_blocks\" >= 0"
        },
        "check_app_control_daily_blocks_positive": {
          "name": "check_app_control_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"app_control_daily_blocks\" >= 0"
        },
        "check_content_filter_daily_blocks_positive": {
          "name": "check_content_filter_daily_blocks_positive",
          "value": "\"firewall_security_posture\".\"content_filter_daily_blocks\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "alert_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "alert_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alerts_tenant_idx": {
          "name": "alerts_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_severity_idx": {
          "name": "alerts_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_category_idx": {
          "name": "alerts_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_status_idx": {
          "name": "alerts_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_source_idx": {
          "name": "alerts_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_created_at_idx": {
          "name": "alerts_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_controls": {
      "name": "compliance_controls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "framework_id": {
          "name": "framework_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "control_id": {
          "name": "control_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compliance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "last_reviewed": {
          "name": "last_reviewed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "compliance_controls_framework_idx": {
          "name": "compliance_controls_framework_idx",
          "columns": [
            {
              "expression": "framework_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compliance_controls_status_idx": {
          "name": "compliance_controls_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compliance_controls_assigned_idx": {
          "name": "compliance_controls_assigned_idx",
          "columns": [
            {
              "expression": "assigned_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compliance_controls_review_date_idx": {
          "name": "compliance_controls_review_date_idx",
          "columns": [
            {
              "expression": "next_review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "compliance_controls_framework_id_compliance_frameworks_id_fk": {
          "name": "compliance_controls_framework_id_compliance_frameworks_id_fk",
          "tableFrom": "compliance_controls",
          "tableTo": "compliance_frameworks",
          "columnsFrom": [
            "framework_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_evidence": {
      "name": "compliance_evidence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "control_id": {
          "name": "control_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "compliance_evidence_control_idx": {
          "name": "compliance_evidence_control_idx",
          "columns": [
            {
              "expression": "control_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compliance_evidence_uploader_idx": {
          "name": "compliance_evidence_uploader_idx",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "compliance_evidence_control_id_compliance_controls_id_fk": {
          "name": "compliance_evidence_control_id_compliance_controls_id_fk",
          "tableFrom": "compliance_evidence",
          "tableTo": "compliance_controls",
          "columnsFrom": [
            "control_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_frameworks": {
      "name": "compliance_frameworks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "compliance_frameworks_tenant_idx": {
          "name": "compliance_frameworks_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "compliance_frameworks_active_idx": {
          "name": "compliance_frameworks_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "notifications_tenant_idx": {
          "name": "notifications_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_user_idx": {
          "name": "notifications_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_read_idx": {
          "name": "notifications_read_idx",
          "columns": [
            {
              "expression": "is_read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_created_at_idx": {
          "name": "notifications_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_attachments": {
      "name": "ticket_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ticket_attachments_ticket_idx": {
          "name": "ticket_attachments_ticket_idx",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_attachments_uploader_idx": {
          "name": "ticket_attachments_uploader_idx",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_attachments_ticket_id_tickets_id_fk": {
          "name": "ticket_attachments_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_attachments",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_comments": {
      "name": "ticket_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ticket_comments_ticket_idx": {
          "name": "ticket_comments_ticket_idx",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_comments_user_idx": {
          "name": "ticket_comments_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_comments_created_at_idx": {
          "name": "ticket_comments_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_comments_ticket_id_tickets_id_fk": {
          "name": "ticket_comments_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tickets": {
      "name": "tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requester": {
          "name": "requester",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "assignee": {
          "name": "assignee",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "ticket_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "ticket_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "ticket_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ticket_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sla_deadline": {
          "name": "sla_deadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tickets_tenant_idx": {
          "name": "tickets_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_status_idx": {
          "name": "tickets_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_severity_idx": {
          "name": "tickets_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_priority_idx": {
          "name": "tickets_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_assignee_idx": {
          "name": "tickets_assignee_idx",
          "columns": [
            {
              "expression": "assignee",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_requester_idx": {
          "name": "tickets_requester_idx",
          "columns": [
            {
              "expression": "requester",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_created_by_idx": {
          "name": "tickets_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_created_at_idx": {
          "name": "tickets_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tickets_sla_deadline_idx": {
          "name": "tickets_sla_deadline_idx",
          "columns": [
            {
              "expression": "sla_deadline",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "super_admin",
        "tenant_admin",
        "security_analyst",
        "it_helpdesk_analyst",
        "user"
      ]
    },
    "public.alert_category": {
      "name": "alert_category",
      "schema": "public",
      "values": [
        "malware",
        "phishing",
        "intrusion",
        "data_breach",
        "policy_violation",
        "anomaly",
        "other"
      ]
    },
    "public.alert_severity": {
      "name": "alert_severity",
      "schema": "public",
      "values": [
        "info",
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.alert_status": {
      "name": "alert_status",
      "schema": "public",
      "values": [
        "open",
        "investigating",
        "resolved",
        "false_positive"
      ]
    },
    "public.compliance_status": {
      "name": "compliance_status",
      "schema": "public",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "non_compliant"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error",
        "success"
      ]
    },
    "public.ticket_category": {
      "name": "ticket_category",
      "schema": "public",
      "values": [
        "security_incident",
        "vulnerability",
        "malware_detection",
        "phishing_attempt",
        "data_breach",
        "policy_violation",
        "compliance",
        "it_support",
        "hardware_issue",
        "software_issue",
        "network_issue",
        "access_request",
        "account_setup",
        "general_request",
        "other"
      ]
    },
    "public.ticket_priority": {
      "name": "ticket_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "urgent"
      ]
    },
    "public.ticket_severity": {
      "name": "ticket_severity",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.ticket_status": {
      "name": "ticket_status",
      "schema": "public",
      "values": [
        "new",
        "in_progress",
        "awaiting_response",
        "resolved",
        "closed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}